{% extends "layout.html" %}

{% block title %}
Reference app
{% endblock %}

{% block body %}
</br>
<h2>Reference app</h2></br>

<!-- Flash message for validation success -->

{% with messages = get_flashed_messages(with_categories=true) %}
  {% if messages %}
    <div>
      {% for category, message in messages %}
        <div class="alert alert-{{ category }}">
          {{ message }}
        </div>
      {% endfor %}
    </div>
  {% endif %}
{% endwith %}

{% if message %}
    <p>{{ message }}</p>
{% endif %}

<h4>Add Reference:</h4>
<div>
  <a href="/add-article" class="btn btn-dark">Article</a>
</div> </br>

{% for article in articles %}
  <div class="card w-75 mb-3">
    <div class="card-body">
      <h5 class="card-title">{{ article.title }}</h5>
      <p class="card-text"> by {{ article.author }} ({{ article.year }})</p></br>
      <button type="button" class="btn btn-outline-dark" data-bs-toggle="modal" data-bs-target="#Modal{{article.id}}">View</button>
      <a href="#" class="btn btn-outline-dark">Edit</a>
      <a href="#" class="btn btn-danger">Delete</a>
    </div>
  </div>

  <div class="modal fade" id="Modal{{article.id}}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header ">
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <h4>{{ article.title }}</h4>
          <p>
            Author: {{ article.author }}</br>
            Published: {{ article.month }} {{ article.year}}</br>
            Journal: {{ article.journal }}</br>
            Volume: {{ article.volume }}</br>
            Number: {{ article.number }}</br>
            Pages: {{ article.pages }}</br>
            doi: {{ article.doi }}</br>
          </p>
        </div>
      </div>
    </div>
  </div>

{% endfor %}




{% endblock %}